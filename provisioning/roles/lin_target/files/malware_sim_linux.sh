# malware_sim_linux.sh
echo "[*] Linux malware simulation started."
# 1. Persistence: write cron.daily script
echo -e "#!/bin/bash\necho Malware Simulation persist >> /tmp/malsim.log" > /etc/cron.daily/malsim
chmod +x /etc/cron.daily/malsim
echo "[*] Created persistence in /etc/cron.daily."
# 2. Reconnaissance: save process list
ps aux > /tmp/malsim_processes.txt
echo "[*] Collected process list."
# 3. Fake SSH to Windows target (will fail)
ssh -o ConnectTimeout=5 user@172.25.10.50 "echo test" 2>/tmp/malsim_ssh.log
echo "[*] Attempted SSH to 172.25.10.50 (simulated lateral movement)."
# 4. Ping external C2 (203.0.113.5)
ping -c 4 203.0.113.5 >/tmp/malsim_ping.log 2>&1
echo "[*] Performed ping to external C2 (203.0.113.5)."
# 5. Sudo attempt with wrong password
echo "malware" | sudo -S id 2>>/tmp/malsim_sudo.log
echo "[*] Attempted sudo with wrong password."
# 6. Launch a dummy background process
sleep 30 &
echo "[*] Launched dummy background process (PID $!)."
echo "[*] Linux malware simulation completed."
